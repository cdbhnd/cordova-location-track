<ion-view view-title="Settings" class="settings">
  <ion-nav-buttons></ion-nav-buttons>
  <ion-content>
    <ion-tabs class="tabs-positive tabs-icon-top">
      <ion-tab title="Plugin" icon-on="ion-ios-gear" icon-off="ion-ios-gear-outline">
        <ion-content>
          <ion-list>
            <div class="item item-divider">
              Geolocation Settings
            </div>
            <ion-item ng-repeat="setting in getSettings('geolocation')" ng-click="onSelectSetting()" class="item-icon-right">
              {{ setting.name }}
              <i class="current-value setting-{{setting.name}}">{{ getValue(setting.name) }}</i>
              <i class="icon ion-chevron-right icon-accessory"></i>
            </ion-item>

            <div class="item item-divider">
              Activity Recognition Settings
            </div>
            <ion-item ng-repeat="setting in getSettings('activity recognition')" ng-click="onSelectSetting()" class="item-icon-right">
              {{ setting.name }}
              <i class="current-value setting-{{setting.name}}">{{ getValue(setting.name) }}</i>
              <i class="icon ion-chevron-right icon-accessory"></i>
            </ion-item>

            <div class="item item-divider">
              Application Settings
            </div>
            <ion-item ng-repeat="setting in getSettings('application')" ng-click="onSelectSetting()" item="setting" class="item-icon-right">
              {{ setting.name }}
              <i class="current-value setting-{{setting.name}}">{{ getValue(setting.name) }}</i>
              <i class="icon ion-chevron-right icon-accessory"></i>
            </ion-item>
          </ion-list>

            <div class="item item-divider">
              HTTP Settings
            </div>
            <ion-item ng-repeat="setting in getSettings('http')" ng-click="onSelectSetting()" item="setting" class="item-icon-right">
              {{ setting.name }}
              <i class="current-value setting-{{setting.name}}">{{ getValue(setting.name) }}</i>
              <i class="icon ion-chevron-right icon-accessory"></i>
            </ion-item>
          </ion-list>
        </ion-content>
      </ion-tab>

      <ion-tab title="App" icon-on="ion-ios-settings-strong" icon-off="ion-ios-settings">
        <ion-content>
          <ion-list>
            <div class="item item-divider">Location data</div>
            <div class="item">
              <button class="button button-assertive" style="width:100%;" ng-disabled="isAutoSyncDisabled()" ng-click="onClickSync()">
                <ion-spinner icon="dots" style="height:4vh;display:inline-block;vertical-align:middle" class="" ng-show="isSyncing"></ion-spinner>
                <span ng-show="!isSyncing">Sync</span>
              </button>
            </div>

            <label class="item item-input item-select">
              <div class="input-label">
                Tracking mode
              </div>
              <select ng-model="state.trackingMode" ng-change="onChangeTrackingMode()">
                <option value="location">location</option>
                <option value="geofence">geofence</option>
              </select>
            </label>

            <div class="item item-divider">Debug</div>
            <div class="item">
              <button id="btn-email-log" class="button button-positive" style="width:100%;" ng-click="onEmailLog()">Email logs</button>
            </div>
            <label class="item item-input item-select">
              <div class="input-label">
                Log level
              </div>
              <select ng-model="state.logLevel" ng-change="onChangeLogLevel()">
                <option value="0">None</option>
                <option value="1">Error</option>
                <option value="2">Warn</option>
                <option value="3">Info</option>
                <option value="4">Debug</option>
                <option value="5">All</option>
              </select>
            </label>

            <ion-toggle ng-click="onToggleDebug()" ng-model="state.debug">Sounds &amp; Notifications</ion-toggle>
            <div class="item item-divider">Geofence test-data (City drive)</div>
            <div class="item">
              <div class="row">
                <div class="col-50" style="padding-right:0.5em;">
                  <button style="width:100%;" class="button button-assertive" ng-click="onRemoveGeofences()">Clear</button>
                </div>
                <div class="col-50" style="padding-left:0.5em">
                  <button style="width:100%;" class="button button-positive" ng-click="onLoadGeofences()" ng-disabled="isLoadingGeofences">
                    <ion-spinner icon="dots" style="height:4vh;display:inline-block;vertical-align:middle" class="" ng-show="isLoadingGeofences"></ion-spinner>
                    <span ng-show="!isLoadingGeofences">Load</span>
                  </button>
                </div>
              </div>
            </div>
            <ion-toggle ng-model="geofences.notifyOnEntry">notifyOnEntry</ion-toggle>
            <ion-toggle ng-model="geofences.notifyOnExit">notifyOnExit</ion-toggle>
            <ion-toggle ng-model="geofences.notifyOnDwell">notifyOnDwell</ion-toggle>
            <div class="item item-divider">Map</div>
            <ion-toggle ng-model="state.showMapMarkers" ng-click="onToggleShowMapMarkers()">Show Markers</ion-toggle>
          </ion-list>
        </ion-content>
      </ion-tab>
    </ion-tabs>
  </ion-content>
  <!-- 
  <ion-footer-bar>
    <button id="btn-email-log" class="button button-positive icon ion-share" ng-click="onEmailLog()" style="width:100px">Send log</button>
    <h1 class="title">&nbsp;</h1>
    <div style="position: absolute;right: 5px;">
      <ion-spinner icon="ios-small" class="" ng-show="isSyncing"></ion-spinner>
      <button class="button button-assertive icon ion-ios-cloud-upload" style="width: 100px" ng-disabled="isAutoSyncDisabled()" ng-click="onClickSync()">Sync</button>
    </div>
  </ion-footer-bar>
  -->
</ion-view>